{% extends "base.html" %}

{% block title %}Login - Upstox OI Tracker{% endblock %}

{% block head %}
    <style>
        .login-container { max-width: 500px; margin: auto; }
        .login-option { margin-bottom: 2rem; padding: 1.5rem; border: 1px solid #ddd; border-radius: 8px; }
        h1 { text-align: center; margin-bottom: 2rem; }
        h2 { margin-top: 0; border-bottom: 1px solid #eee; padding-bottom: 0.5rem; margin-bottom: 1rem; }
        form { display: flex; flex-direction: column; }
        label { margin-bottom: 0.5rem; font-weight: 600; }
        input[type="text"], input[type="password"] {
            padding: 0.8rem;
            margin-bottom: 1rem;
            border: 1px solid #ccc;
            border-radius: 4px;
            font-size: 1rem;
            width: 100%;
            box-sizing: border-box;
        }
        input[type="submit"] {
            background-color: #0052cc;
            color: white;
            padding: 0.8rem;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: bold;
        }
        input[type="submit"]:hover { background-color: #003d99; }
    </style>
{% endblock %}

{% block content %}
<div class="login-container">
    <h1>Upstox OI Tracker</h1>

    <div class="login-option">
        <h2>Option 1: Login with API Credentials</h2>
        <p>Enter your API Key and Secret to go through the standard login flow.</p>
        <form action="{{ url_for('login') }}" method="post">
            <label for="api_key">API Key:</label>
            <input type="text" id="api_key" name="api_key" required>

            <label for="api_secret">API Secret:</label>
            <input type="password" id="api_secret" name="api_secret" required>

            <input type="submit" value="Login with Upstox">
        </form>
    </div>

    <div class="login-option">
        <h2>Option 2: Use an Existing Access Token</h2>
        <p>If you already have a valid access token, paste it here.</p>
        <form action="{{ url_for('token_login') }}" method="post">
            <label for="access_token">Access Token:</label>
            <input type="text" id="access_token" name="access_token" required>

            <input type="submit" value="Go to Dashboard">
        </form>
    </div>
</div>
{% endblock %}